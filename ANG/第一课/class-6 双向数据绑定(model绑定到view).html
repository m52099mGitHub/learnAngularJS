<!DOCTYPE html>
<html lang="en" ng-app="myApp">
<head>
    <meta charset="UTF-8">
    <title>购物车计价</title>
</head>
<body>
<h1>双向数据绑定</h1>
<div ng-controller="myCtrl">
    <p>单价:<input type="text" ng-model="price"></p>
    <p>数量: <input type="text" ng-model="count"></p>
    <p>总价:{{sum}}</p>
</div>
<script type="text/javascript" src="js/angular.js"></script>
<script>

</script>
<script>
    var app=angular.module("myApp",[]);
    //数据绑定和数据输出
    app.controller("myCtrl",function($scope){
        $scope.price="0";//默认值
        $scope.count="0";
        $scope.sum=$scope.price*$scope.count;
        //检测model中的数据是否改变
        $scope.$watch("price",function(newValue,srcVal){
            console.log("price的值变为:"+$scope.price);
            console.log("price的原始值为:"+srcVal);
            console.log("price的新值为:"+newValue);
        });
        $scope.$watch("count",function(newVal){
            $scope.sum=$scope.price*newVal;
        })
    });
</script>
</body>
</html>